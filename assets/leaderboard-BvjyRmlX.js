import{r as d,j as e,c as g,R as f}from"./bootstrap-CS878lhi.js";import{d as b}from"./Firebase-DYOYMPzY.js";import{D as u}from"./Dropdown-BGYXMNVC.js";import"./useMounted-Di7MRrmH.js";const p=function({onClick:n}){const[a,o]=d.useState(null),[s,l]=d.useState("");if(d.useEffect(()=>{b.ref("Leaderboard").once("value",i=>{o(i.val()),console.log(a)})},[]),a==null)return e.jsx("div",{className:"container p-2",children:e.jsx(u,{style:{width:"100%"},children:e.jsx(u.Toggle,{style:{width:"100%"},variant:"primary",id:"dropdown-basic",children:"Loading..."})})});{const i=Object.keys(a);return e.jsxs("div",{className:"container p-2",children:[e.jsxs(u,{style:{width:"100%"},children:[e.jsx(u.Toggle,{style:{width:"100%"},variant:"primary",id:"dropdown-basic",children:s==""?"Leaderboard Catagories":s}),e.jsx(u.Menu,{children:i.map((t,r)=>e.jsx(u.Item,{onClick:()=>{l(t),n(t)},"aria-current":"page",children:t},r))})]}),e.jsx("div",{className:"dropdown-menu"})]})}};function v(n,a,o){const s=Object.keys(n);let l=1;for(;l>0;){l=0;for(let t=0;t<s.length-1;t++){const r=m=>n[m][a],j=s[t],c=s[t+1];(o&&r(s[t])<r(s[t+1])||!o&&r(s[t])>r(s[t+1]))&&(s[t]=c,s[t+1]=j,l+=1)}}const i={};return s.forEach(t=>{i[t]=n[t]}),i}function y(n){return Object.keys(n[Object.keys(n)[0]])}function S(n,a,o,s,l,i){if(a!="empty"){const t=n[a],r=v(t,o,l),j=y(t);return e.jsxs("table",{className:"table",children:[e.jsxs("thead",{children:[e.jsx("th",{scope:"col",children:"Position"}),j.map(c=>e.jsx("th",{scope:"col",onClick:()=>{c==o?i(!l):(i(!0),s(c))},children:c==o?`- ${c} -`:c}))]}),e.jsx("tbody",{children:Object.keys(r).map((c,m)=>e.jsxs("tr",{children:[e.jsx("th",{className:r[c].Username==localStorage.getItem("username")?"bg-info bg-gradient":"",children:m+1}),j.map(h=>e.jsx("td",{className:r[c].Username==localStorage.getItem("username")?"bg-info bg-gradient":"",children:h=="DateTime"?new Date(r[c][h]).toLocaleString("en-GB",{}):r[c][h]}))]}))})]})}else return e.jsx("div",{children:"Select a catagory."})}function x({catagory:n}){const[a,o]=d.useState(null),[s,l]=d.useState("Points"),[i,t]=d.useState(!0);return d.useEffect(()=>{b.ref("Leaderboard").on("value",r=>{o(r.val())})},[]),a==null?e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{children:"Loading..."})})}):e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:S(a,n,s,l,i,t)})})}function w(){const[n,a]=d.useState("");return e.jsxs(e.Fragment,{children:[e.jsx(p,{onClick:o=>{a(o)}}),e.jsx("br",{}),e.jsx("br",{}),n==""?e.jsx(x,{catagory:"empty"}):e.jsx(x,{catagory:n})]})}g.createRoot(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(w,{})}));
